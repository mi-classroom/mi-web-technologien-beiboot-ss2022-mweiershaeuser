"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[122],{3122:(E,p,i)=>{i.r(p),i.d(p,{ExploreModule:()=>C});var a=i(9808),l=i(3853),c=i(5698),e=i(1223),u=i(4004),g=i(2340),m=i(520),v=i(3272);let d=(()=>{class r{constructor(t,o){this.http=t,this.loginService=o,this.baseUrl=g.N.baseUrl,this.accessToken="",this.loginService.hasAccessToken.subscribe({next:s=>{s&&(this.accessToken=s)}})}getMasterpieces(){return this.http.get(`${this.baseUrl}/artworks?sort[0]=sortingId&pagination[page]=1&pagination[pageSize]=200`,{headers:{Authorization:`Bearer ${this.accessToken}`}}).pipe((0,u.U)(t=>{let o=[];return t.data.forEach(s=>{o.push({title:s.attributes.title,date:s.attributes.date,category:s.attributes.category,owner:s.attributes.owner,preview:s.attributes.preview,sortingId:s.attributes.sortingId})}),o}))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eN),e.LFG(v.r))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),w=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-masterpiece-preview"]],inputs:{artwork:"artwork"},decls:10,vars:6,consts:[[1,"masterpiece-wrapper"],[3,"src","alt"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("src",null==o.artwork?null:o.artwork.preview,e.LSH)("alt",null==o.artwork?null:o.artwork.title),e.xp6(2),e.Oqu(null==o.artwork?null:o.artwork.title),e.xp6(2),e.hij("Datierung: ",null==o.artwork?null:o.artwork.date,""),e.xp6(2),e.hij("Art des Werks: ",null==o.artwork?null:o.artwork.category,""),e.xp6(2),e.hij("Besitzer*in: ",null==o.artwork?null:o.artwork.owner,""))},styles:[".masterpiece-wrapper[_ngcontent-%COMP%]{padding:10px;margin:10px;border:solid black}"]}),r})();function f(r,n){1&r&&(e.TgZ(0,"div",2),e._uU(1," Es ist ein Fehler aufgetreten. Bitte \xfcberpr\xfcfe Netzwerkverbindung und Endpunkt.\n"),e.qZA())}function h(r,n){1&r&&e._UZ(0,"app-masterpiece-preview",3),2&r&&e.Q6J("artwork",n.$implicit)}const k=[{path:"",component:(()=>{class r{constructor(t){this.masterpieceApiService=t,this.artworks=[],this.error=!1}ngOnInit(){this.getMasterpieces()}getMasterpieces(){this.masterpieceApiService.getMasterpieces().pipe((0,c.q)(1)).subscribe({next:t=>{this.artworks=t,this.error=!1},error:()=>{this.error=!0}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-explore"]],decls:2,vars:2,consts:[["class","alert alert-danger",4,"ngIf"],[3,"artwork",4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[3,"artwork"]],template:function(t,o){1&t&&(e.YNc(0,f,2,0,"div",0),e.YNc(1,h,1,1,"app-masterpiece-preview",1)),2&t&&(e.Q6J("ngIf",o.error),e.xp6(1),e.Q6J("ngForOf",o.artworks))},directives:[a.O5,a.sg,w],styles:[""]}),r})()}];let M=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.Bz.forChild(k)],l.Bz]}),r})(),C=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[a.ez,M]]}),r})()}}]);